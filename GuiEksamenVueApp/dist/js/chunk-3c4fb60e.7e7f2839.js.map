{"version":3,"sources":["webpack:///./src/components/AddRemoveModel.vue?a77d","webpack:///./src/views/Jobs.vue?f85d","webpack:///./src/components/ListJobs.vue?0550","webpack:///./src/components/AddAnExpense.vue?5dc8","webpack:///src/components/AddAnExpense.vue","webpack:///./src/components/AddAnExpense.vue?20d1","webpack:///./src/components/AddAnExpense.vue","webpack:///./src/components/AddRemoveModel.vue?1eb6","webpack:///src/components/AddRemoveModel.vue","webpack:///./src/components/AddRemoveModel.vue?01e5","webpack:///./src/components/AddRemoveModel.vue?5f30","webpack:///src/components/ListJobs.vue","webpack:///./src/components/ListJobs.vue?dd31","webpack:///./src/components/ListJobs.vue","webpack:///src/views/Jobs.vue","webpack:///./src/views/Jobs.vue?de26","webpack:///./src/views/Jobs.vue"],"names":["__webpack_require__","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","role","_v","staticRenderFns","ListJobsvue_type_template_id_ce076742_scoped_true_render","responsive","hover","striped","dark","userId","_e","_l","job","key","efJobId","_s","_f","startDate","customer","days","location","comments","jobId","ListJobsvue_type_template_id_ce076742_scoped_true_staticRenderFns","AddAnExpensevue_type_template_id_12fa5214_render","_m","directives","name","rawName","value","expression","type","placeholder","domProps","on","input","$event","target","composing","expenseAmount","note","click","addExpense","msg","AddAnExpensevue_type_template_id_12fa5214_staticRenderFns","AddAnExpensevue_type_script_lang_js_","props","data","methods","_this","jsonthing","JSON","stringify","modelId","parseInt","getModelId","date","getNow","text","amount","console","log","fetch","method","body","maodelId","credentials","headers","Authorization","localStorage","getItem","Content-Type","then","res","status","json","responseJson","catch","error","moment_default","format","computed","$store","getters","components_AddAnExpensevue_type_script_lang_js_","component","Object","componentNormalizer","AddAnExpense","AddRemoveModelvue_type_template_id_223e5727_scoped_true_render","staticStyle","margin-top","margin-right","addModel","deleteModel","statusMsg","AddRemoveModelvue_type_template_id_223e5727_scoped_true_staticRenderFns","AddRemoveModelvue_type_script_lang_js_","_this2","components_AddRemoveModelvue_type_script_lang_js_","AddRemoveModel_component","AddRemoveModel","ListJobsvue_type_script_lang_js_","loading","message","jobs","getUserId","components","mounted","components_ListJobsvue_type_script_lang_js_","ListJobs_component","ListJobs","Jobsvue_type_script_lang_js_","views_Jobsvue_type_script_lang_js_","Jobs_component","__webpack_exports__"],"mappings":"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","file":"js/chunk-3c4fb60e.7e7f2839.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddRemoveModel.vue?vue&type=style&index=0&id=223e5727&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"container\"},[_c('main',{staticClass:\"pb-3\",attrs:{\"role\":\"main\"}},[_c('h1',{staticClass:\"text-center\"},[_vm._v(\"Jobs\")]),_c('list-jobs')],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.loading)?_c('div',[_c('p',[_vm._v(\"Please wait while we load jobs!\")])]):_c('div',[_c('b-table-simple',{attrs:{\"responsive\":\"true\",\"hover\":\"\",\"striped\":\"\",\"dark\":\"\"}},[_c('b-thead',[_c('b-tr',[_c('b-th',[_vm._v(\"Start Date\")]),_c('b-th',[_vm._v(\"Customer\")]),_c('b-th',[_vm._v(\"Days\")]),_c('b-th',[_vm._v(\"Location\")]),_c('b-th',[_vm._v(\"Comments\")]),(_vm.userId >= 0)?_c('b-th',[_vm._v(\"Add Expense\")]):_vm._e(),(_vm.userId == -1)?_c('b-th',[_vm._v(\"Add/Remove Model\")]):_vm._e()],1)],1),_c('b-tbody',_vm._l((_vm.jobs),function(job){return _c('b-tr',{key:job.efJobId},[_c('b-td',[_vm._v(_vm._s(_vm._f(\"formatDate\")(job.startDate)))]),_c('b-td',[_vm._v(_vm._s(job.customer))]),_c('b-td',[_vm._v(_vm._s(job.days))]),_c('b-td',[_vm._v(_vm._s(job.location))]),_c('b-td',[_vm._v(_vm._s(job.comments))]),(_vm.userId >= 0)?_c('b-td',[_c('AddAnExpense',{attrs:{\"jobId\":job.efJobId}})],1):_vm._e(),(_vm.userId == -1)?_c('b-td',[_c('AddRemoveModel',{attrs:{\"jobId\":job.efJobId}})],1):_vm._e()],1)}))],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('table',[_c('tr',[_vm._m(0),_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.expenseAmount),expression:\"expenseAmount\"}],staticClass:\"input\",attrs:{\"type\":\"number\",\"placeholder\":\"Enter Expense in DKK\"},domProps:{\"value\":(_vm.expenseAmount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.expenseAmount=$event.target.value}}})])]),_c('tr',[_vm._m(1),_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.note),expression:\"note\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"Write note\"},domProps:{\"value\":(_vm.note)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.note=$event.target.value}}})])])]),_c('button',{staticClass:\"btn btn-primary btn-block\",on:{\"click\":_vm.addExpense}},[_vm._v(\"Add Expense\")]),_c('p',[_vm._v(_vm._s(_vm.msg))])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',[_c('label',[_vm._v(\"Amount:\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',[_c('label',[_vm._v(\"Note:\")])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <table>\n            <tr>\n                <td><label>Amount:</label></td>\n                <td><input v-model=\"expenseAmount\" class=\"input\" type=\"number\" placeholder=\"Enter Expense in DKK\"></td>\n            </tr>\n            <tr>\n                <td><label>Note:</label></td>\n                <td><input v-model=\"note\" class=\"input\" type=\"text\" placeholder=\"Write note\"></td>\n            </tr>\n        </table>\n        <button class=\"btn btn-primary btn-block\" @click=\"addExpense\">Add Expense</button>\n        <p>{{ msg }}</p>\n    </div>\n</template>\n\n<script>\n    import moment from 'moment'\n\n    export default {\n        props: ['jobId'],\n        data() {\n            return {\n                expenseAmount: '',\n                note: '',\n                msg: ''\n            }\n        },\n        methods: {\n            addExpense() {\n\n                var jsonthing = JSON.stringify({\n                    modelId: parseInt(this.getModelId),\n                    jobId: this.jobId,\n                    date: this.getNow(),\n                    text: this.note,\n                    amount: this.expenseAmount\n                });\n\n                console.log(jsonthing);\n\n                fetch('https://localhost:44368/api/Expenses', {\n                    method: 'POST',\n                    body: JSON.stringify({\n                        maodelId: parseInt(this.getModelId),\n                        jobId: this.jobId,\n                        date: this.getNow(),\n                        text: this.note,\n                        amount: parseInt(this.expenseAmount)\n                    }),\n                    credentials: 'include',\n                    headers: {\n                        'Authorization': 'Bearer ' + localStorage.getItem(\"token\"),\n                        'Content-Type': 'application/json'\n                    }\n                })\n                    .then(res => {\n                        if (res.status == 200 || res.status == 201) {\n                            this.msg = 'Added the expense of ' + this.expenseAmount + ' DKK!';\n                            return res.json();\n                        }\n                        else if (res.status == 403) {\n                            this.msg = res.status + ': Access Denied!';\n                        }\n                    })\n                    .then(responseJson => {\n                        console.log(responseJson);\n                        this.expenseAmount = '';\n                        this.note = '';\n                    })\n                    .catch(error => {\n                        console.error('Something bad happened: ' + error);\n                    });\n            },\n            getNow() {\n                return moment().format();\n            }\n        },\n        computed: {\n            getModelId() {\n                return this.$store.getters.userId;\n            }\n        },\n    }\n</script>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddAnExpense.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddAnExpense.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddAnExpense.vue?vue&type=template&id=12fa5214&\"\nimport script from \"./AddAnExpense.vue?vue&type=script&lang=js&\"\nexport * from \"./AddAnExpense.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('table',[_c('tr',[_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.modelId),expression:\"modelId\"}],staticClass:\"input\",attrs:{\"type\":\"number\",\"placeholder\":\"Enter Model-ID\"},domProps:{\"value\":(_vm.modelId)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.modelId=$event.target.value}}})])])]),_c('div',{staticStyle:{\"margin-top\":\"10px\"}},[_c('button',{staticClass:\"btn btn-primary\",staticStyle:{\"margin-right\":\"15px\"},on:{\"click\":_vm.addModel}},[_vm._v(\" Add \")]),_c('button',{staticClass:\"btn btn-danger\",on:{\"click\":_vm.deleteModel}},[_vm._v(\" Remove \")])]),_c('p',[_vm._v(_vm._s(_vm.statusMsg))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <table>\r\n            <tr>\r\n                <td><input v-model=\"modelId\" class=\"input\" type=\"number\" placeholder=\"Enter Model-ID\"></td>\r\n            </tr>\r\n        </table>\r\n        <div style=\"margin-top: 10px\">\r\n            <button style=\"margin-right: 15px\" class=\"btn btn-primary\" @click=\"addModel\"> Add </button>\r\n            <button class=\"btn btn-danger\" @click=\"deleteModel\"> Remove </button>\r\n\r\n        </div>\r\n        <p>{{ statusMsg }}</p>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        props: ['jobId'],\r\n        data() {\r\n            return {\r\n                modelId: '',\r\n                statusMsg: ''\r\n            }\r\n        },\r\n        methods: {\r\n            addModel() {\r\n                fetch('https://localhost:44368/api/Jobs/' + this.jobId + '/model/' + this.modelId, {\r\n                    method: 'POST',\r\n                    credentials: 'include',\r\n                    headers: {\r\n                        'Authorization': 'Bearer ' + localStorage.getItem(\"token\"),\r\n                        'Content-Type': 'application/json'\r\n                    }\r\n                })\r\n                    .then(res => {\r\n                        if (res.status == 200 || res.status == 201) {\r\n                            this.statusMsg = 'Added model with ID ' + this.modelId + '!';\r\n                        }\r\n                        else if (res.status == 403) {\r\n                            this.statusMsg = res.status + ': Access Denied!';\r\n                        }\r\n                        else {\r\n                            this.statusMsg = res.status + ': Error!';\r\n                        }\r\n\r\n                        return res.json();\r\n                    })\r\n                    .then(responseJson => {\r\n                        console.log(responseJson);\r\n                    })\r\n                    .catch(error => {\r\n                        console.error('Something bad happened: ', error);\r\n                    });\r\n            },\r\n            deleteModel() {\r\n                fetch('https://localhost:44368/api/Jobs/' + this.jobId + '/model/' + this.modelId, {\r\n                    method: 'DELETE',\r\n                    credentials: 'include',\r\n                    headers: {\r\n                        'Authorization': 'Bearer ' + localStorage.getItem(\"token\"),\r\n                        'Content-Type': 'application/json'\r\n                    }\r\n                })\r\n                    .then(res => {\r\n                        if (res.status == 200 || res.status == 202) {\r\n                            this.statusMsg = 'Removed model with ID ' + this.modelId + '!';\r\n                        }\r\n                        else if (res.status == 403) {\r\n                            this.statusMsg = res.status + ': Access Denied!';\r\n                        }\r\n                        else {\r\n                            this.statusMsg = res.status + ': Error!';\r\n                        }\r\n\r\n                        return res.json();\r\n                    })\r\n                    .then(responseJson => {\r\n                        console.log(responseJson);\r\n                    })\r\n                    .catch(error => {\r\n                        console.error('Something bad happened: ', error);\r\n                    });\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n    p {\r\n        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n        font-size: small;\r\n        margin: 5px;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddRemoveModel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddRemoveModel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddRemoveModel.vue?vue&type=template&id=223e5727&scoped=true&\"\nimport script from \"./AddRemoveModel.vue?vue&type=script&lang=js&\"\nexport * from \"./AddRemoveModel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddRemoveModel.vue?vue&type=style&index=0&id=223e5727&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"223e5727\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div>\r\n        <div v-if=\"loading\">\r\n            <p>Please wait while we load jobs!</p>\r\n        </div>\r\n        <div v-else>\r\n            <b-table-simple responsive=\"true\" hover striped dark>\r\n                <b-thead>\r\n                    <b-tr>\r\n                        <b-th>Start Date</b-th>\r\n                        <b-th>Customer</b-th>\r\n                        <b-th>Days</b-th>\r\n                        <b-th>Location</b-th>\r\n                        <b-th>Comments</b-th>\r\n                        <b-th v-if=\"userId >= 0\">Add Expense</b-th>\r\n                        <b-th v-if=\"userId == -1\">Add/Remove Model</b-th>\r\n                    </b-tr>\r\n                </b-thead>\r\n                <b-tbody>\r\n                    <b-tr v-for=\"job in jobs\" :key=\"job.efJobId\">\r\n                        <b-td>{{ job.startDate | formatDate }}</b-td>\r\n                        <b-td>{{ job.customer }}</b-td>\r\n                        <b-td>{{ job.days }}</b-td>\r\n                        <b-td>{{ job.location }}</b-td>\r\n                        <b-td>{{ job.comments }}</b-td>\r\n                        <b-td v-if=\"userId >= 0\"><AddAnExpense :jobId=\"job.efJobId\"></AddAnExpense></b-td>\r\n                        <b-td v-if=\"userId == -1\"><AddRemoveModel :jobId=\"job.efJobId\"></AddRemoveModel></b-td>\r\n                    </b-tr>\r\n                </b-tbody>\r\n            </b-table-simple>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import AddAnExpense from '@/components/AddAnExpense.vue'\r\n    import AddRemoveModel from '@/components/AddRemoveModel.vue'\r\n\r\n    export default {\r\n        name: \"ListOfJobs\",\r\n        data() {\r\n            return {\r\n                loading: true,\r\n                message: '',\r\n                jobs: [],\r\n                userId: this.getUserId\r\n            }\r\n        },\r\n        components: {\r\n            AddAnExpense,\r\n            AddRemoveModel\r\n        },\r\n        mounted() {\r\n            this.userId = this.$store.getters.userId;\r\n            fetch('https://localhost:44368/api/Jobs', {\r\n                method: 'GET',\r\n                credentials: 'include',\r\n                headers: {\r\n                    'Authorization': 'Bearer ' + localStorage.getItem(\"token\"),\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            })\r\n                .then(res => {\r\n                    if (res.status == 200) {\r\n                        return res.json();\r\n                    }\r\n                })\r\n                .then(responseJson => {\r\n                    console.log(responseJson);\r\n                    this.jobs = responseJson\r\n                    this.loading = false;\r\n                })\r\n                .catch(error => {\r\n                    this.loading = false;\r\n                    this.message = 'An error has occured' + error;\r\n\r\n                });\r\n        },\r\n        computed: {\r\n            getUserId() {\r\n                return this.$store.getters.userId;\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListJobs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListJobs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListJobs.vue?vue&type=template&id=ce076742&scoped=true&\"\nimport script from \"./ListJobs.vue?vue&type=script&lang=js&\"\nexport * from \"./ListJobs.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ce076742\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div>\r\n        <div class=\"container\">\r\n            <main role=\"main\" class=\"pb-3\">\r\n                <h1 class=\"text-center\">Jobs</h1>\r\n                <list-jobs></list-jobs>\r\n            </main>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import ListJobs from '../components/ListJobs.vue';\r\n\r\n\r\n    export default {\r\n        name: 'ListOfJobs',\r\n        components: {\r\n            ListJobs\r\n        }\r\n    };\r\n\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Jobs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Jobs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Jobs.vue?vue&type=template&id=1c207922&scoped=true&\"\nimport script from \"./Jobs.vue?vue&type=script&lang=js&\"\nexport * from \"./Jobs.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1c207922\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}